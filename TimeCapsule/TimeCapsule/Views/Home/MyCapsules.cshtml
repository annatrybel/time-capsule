@model List<TimeCapsule.Models.ViewModels.TimeRemainingViewModel>

@{
    ViewData["Title"] = "Moje Kapsuły";
}
@section Styles {
    <link rel="stylesheet" href="~/css/MyCapsules.css" />
}

<section class="hero">
    <h1><b>MOJE KAPSUŁY</b></h1>
</section>

<div class="container">
    @if (Model == null || !Model.Any())
    {
        <section class="cta no-capsules-section">
            <div class="no-capsule-box">
                <h2>Obecnie nie posiadasz żadnej kapsuły</h2>
                <a asp-controller="TimeCapsule" asp-action="Step1" class="cta-button">
                    Stwórz swoją kapsułę czasu już teraz!
                </a>
            </div>
        </section>
    }
    else
    {
        <section class="capsules has-capsules-section">
            @foreach (var capsule in Model)
            {
                <div class="capsule-timer-wrapper">
                    <p class="capsule-info">Do otwarcia kapsuły <strong>@capsule.Title</strong> pozostało:</p>

                    <div class="countdown-circle">
                        <div class="countdown-unit">
                            <div class="countdown-value">@capsule.Years</div>
                            <div class="countdown-label">@(capsule.Years == 1 ? "rok" : (capsule.Years >= 2 && capsule.Years <= 4 ? "lata" : "lat"))</div>
                        </div>
                        <div class="countdown-unit">
                            <div class="countdown-value">@capsule.Days</div>
                            <div class="countdown-label">dni</div>
                        </div>
                        <div class="countdown-unit">
                            <div class="countdown-value">@capsule.Hours</div>
                            <div class="countdown-label">@(capsule.Hours == 1 ? "godzina" : (capsule.Hours >= 2 && capsule.Hours <= 4 ? "godziny" : "godzin"))</div>
                        </div>
                        <div class="countdown-unit">
                            <div class="countdown-value">@capsule.Minutes</div>
                            <div class="countdown-label">@(capsule.Minutes == 1 ? "minuta" : (capsule.Minutes >= 2 && capsule.Minutes <= 4 ? "minuty" : "minut"))</div>
                        </div>
                    </div>
                </div>
            }

            <div class="text-center mt-4">
                <a asp-controller="TimeCapsule" asp-action="Step1" class="cta-button-capsules">
                    Stwórz nową kapsułę czasu
                </a>
            </div>
        </section>
    }
</div>
